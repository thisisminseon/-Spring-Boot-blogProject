<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{sample/fragment/layout :: head(title='ì‚¬ìš©ì ìƒì„¸ - MyApp')}"></th:block>
    
    <style>
        .detail-table {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .detail-table th {
            background-color: #f8f9fa;
            color: #333;
            width: 30%;
            text-align: right;
            padding-right: 2rem;
        }
        
        .detail-table td {
            text-align: left;
        }
    </style>
</head>

<body>
    <div th:replace="~{sample/fragment/layout :: header}"></div>
    
    <main>
        <div class="card">
            <h2>ğŸ‘¤ ì‚¬ìš©ì ìƒì„¸ ì •ë³´</h2>
            
            <!--
                th:object="${user}"
                - user ê°ì²´ë¥¼ ì„ íƒí•˜ë©´ *{í•„ë“œëª…}ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥
            -->
            <table class="detail-table" th:object="${user}">
                <tr>
                    <th>ID:</th>
                    <td th:text="*{id}">1</td>
                </tr>
                <tr>
                    <th>ì´ë¦„:</th>
                    <td>
                        <strong th:text="*{name}" style="font-size: 1.2rem;">ì´ë¦„</strong>
                    </td>
                </tr>
                <tr>
                    <th>ë‚˜ì´:</th>
                    <td th:text="*{age} + 'ì„¸'">0ì„¸</td>
                </tr>
                <tr>
                    <th>ì´ë©”ì¼:</th>
                    <td>
                        <a th:href="'mailto:' + *{email}" th:text="*{email}">
                            email@example.com
                        </a>
                    </td>
                </tr>
                <tr>
                    <th>ì—­í• :</th>
                    <td>
                        <span th:switch="*{role}">
                            <span th:case="'ADMIN'" class="badge badge-admin">ê´€ë¦¬ì</span>
                            <span th:case="'USER'" class="badge badge-user">ì¼ë°˜ ì‚¬ìš©ì</span>
                            <span th:case="'GUEST'" class="badge badge-guest">ê²ŒìŠ¤íŠ¸</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <th>ìƒíƒœ:</th>
                    <td>
                        <span th:class="*{active} ? 'badge badge-active' : 'badge badge-inactive'"
                              th:text="*{active} ? 'í™œì„±' : 'ë¹„í™œì„±'">
                            ìƒíƒœ
                        </span>
                    </td>
                </tr>
            </table>
            
            <!-- ë²„íŠ¼ ê·¸ë£¹ -->
			<div style="text-align: center; margin-top: 2rem;">
				<a th:href="@{/sample/users}" class="btn btn-secondary">â† ëª©ë¡ìœ¼ë¡œ</a> 
				<a th:href="@{/sample/users/{id}/edit(id=${user.id})}" class="btn">ìˆ˜ì •</a>
				<button class="btn" style="background-color: #e74c3c;"
					onclick="deleteUser()">ì‚­ì œ</button>
			</div>
		</div>
    </main>
    
    <div th:replace="~{sample/fragment/layout :: footer}"></div>
    
    <th:block th:replace="~{sample/fragment/layout :: scripts}"></th:block>

	<script th:inline="javascript">
	
		// Thymeleaf ë³€ìˆ˜ë¥¼ JavaScriptì—ì„œ ì‚¬ìš©
		var userId = /*[[${user.id}]]*/ 0;
		var userName = /*[[${user.name} ?: 'Unknown']]*/ 'Unknown';
		function deleteUser() {
			if (confirm(userName + ' ì‚¬ìš©ìë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
				alert('ì‚­ì œ ê¸°ëŠ¥ì€ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
				// ì‹¤ì œë¡œëŠ” DELETE ìš”ì²­ ì „ì†¡
			}
		}

		console.log('ì‚¬ìš©ì ID:', userId);
		console.log('ì‚¬ìš©ì ì´ë¦„:', userName);
		/*]]>*/
	</script>
</body>
</html>
